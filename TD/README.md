# SE203b Project

This project is to learn about bare-metal prog.

# Organization of the repo

There are some subdirectories in order to organize the repo.
First come the source directories :
 - **libs** contains some general functions and initializations functions
 - **drivers** contains the minimal drivers we programmed for using different features of the card
 - **src** contains examples of main programs.
The include directories consist of :
 - **CMSIS** which contains headers provided by ARM
 - **inc** which contains our own headers
The documentation is in **doc**.
The resources such as scripts for testing are in **rsc**
**build** and **dep** are filled with the files generated by compilation.

There are two linker scripts available : ld_ram for putting the program in RAM, and ld_flash for flashing the program.

# How to compile

**Makefile** allows one to indicate which program he wants to build and how it has to be built.

First thing to do is to change the OBJS variable in order to add the objet file corresponding to main. By default, it is set to build/uart_machine.o.
Currently available :
 - build/uart_machine.o
 - build/snake.o

The variable DEBUG can be set to -DDEBUG for putting the program in RAM.

When changing the program one of these parameters, DO NOT FORGET TO LAUNCH make clean.

# Flashing the program

For flashing, first connect to the card : make connect
Then compile : make
Then launch gdb : make gdb
Flash the program, then close everything if DEBUG was not set.
